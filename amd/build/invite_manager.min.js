define("block_evasys_sync/invite_manager",["core/str","core/notification","core/url","jquery"],(function(str,notification,url,$){var submitInvitation=function(dates){var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var responseParts=this.responseText.split("#");"success inviting"===responseParts[0]?(participants=responseParts[1],$(".block_evasys_participants").each((function(){this.innerHTML=participants})),str.get_strings([{key:"title_success",component:"block_evasys_sync"},{key:"content_success_invite",component:"block_evasys_sync"},{key:"ok"}]).done((function(s){notification.alert(s[0],s[1],s[2])}))):"success"===responseParts[0]?str.get_strings([{key:"title_success",component:"block_evasys_sync"},{key:"content_success_direct",component:"block_evasys_sync"},{key:"ok"}]).done((function(s){notification.alert(s[0],s[1],s[2])})):"Start after end"===responseParts[0]?str.get_strings([{key:"title_date_invalid",component:"block_evasys_sync"},{key:"content_start_after_end",component:"block_evasys_sync"},{key:"ok"}]).done((function(s){notification.alert(s[0],s[1],s[2])})):"End in the past"===responseParts[0]?str.get_strings([{key:"title_date_invalid",component:"block_evasys_sync"},{key:"content_invalidend",component:"block_evasys_sync"},{key:"ok"}]).done((function(s){notification.alert(s[0],s[1],s[2])})):"wrong mode"===responseParts[0]?str.get_strings([{key:"title_wrong_mode",component:"block_evasys_sync"},{key:"content_wrong_mode",component:"block_evasys_sync"},{key:"ok"}]).done((function(s){notification.alert(s[0],s[1],s[2])})):str.get_string("send_error","block_evasys_sync").done((function(s){notification.alert("Error",s,"OK")}))}else 4===this.readyState&&str.get_string("send_error","block_evasys_sync").done((function(s){notification.alert("Error",s,"OK")}));var participants;4===this.readyState&&$("#evasys_block_form").find(":input[type=submit]").prop("disabled",!1)};var s=url.relativeUrl("/blocks/evasys_sync/invite.php",dates,!0);xhttp.open("GET",s),xhttp.send()};return{init:function(){$("#evasys_block_form").submit((function(e){e.preventDefault(),$("#evasyssubmitbutton").prop("disabled",!0);var data={};$("#evasys_block_form").serializeArray().forEach((function(param){data[param.name]=param.value})),submitInvitation(data)})),$("#direct_invite").length>0&&str.get_strings([{key:"planorstartevaluation",component:"block_evasys_sync"},{key:"startevaluationnow",component:"block_evasys_sync"}]).done((function(s){$("#direct_invite").change((function(){this.checked?$("#evasyssubmitbutton").val(s[1]):$("#evasyssubmitbutton").val(s[0])}))}))}}}));

//# sourceMappingURL=invite_manager.min.js.map